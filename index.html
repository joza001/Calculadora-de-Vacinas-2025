<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Vacinas</title>
    <!-- Inclui Tailwind CSS para estiliza√ß√£o r√°pida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a fonte Inter para todo o corpo do documento */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Cor de fundo suave */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Garante que o corpo ocupe toda a altura da viewport */
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        /* Estilos para o cont√™iner principal da aplica√ß√£o */
        .container {
            background-color: #ffffff; /* Fundo branco para o cart√£o */
            padding: 30px;
            border-radius: 16px; /* Cantos mais arredondados */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15); /* Sombra mais pronunciada e suave */
            width: 100%;
            max-width: 800px; /* Largura m√°xima para o cont√™iner */
            border: 1px solid #e2e8f0; /* Borda sutil */
        }
        /* Estilos para campos de entrada e bot√µes */
        input[type="date"], button {
            border-radius: 10px; /* Cantos mais arredondados */
            padding: 14px; /* Aumenta o padding */
            border: 1px solid #cbd5e1; /* Borda um pouco mais vis√≠vel */
            width: 100%;
            box-sizing: border-box; /* Inclui padding e borda na largura total */
            margin-bottom: 18px; /* Espa√ßo abaixo dos elementos */
            font-size: 1.05rem; /* Aumenta um pouco a fonte */
        }
        button {
            background-color: #6366f1; /* Cor prim√°ria do Tailwind (indigo-500) */
            color: white;
            font-weight: 700; /* Texto mais negrito */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease; /* Transi√ß√£o suave para hover e scale */
            box-shadow: 0 4px 10px rgba(99, 102, 241, 0.3); /* Sombra para o bot√£o */
        }
        button:hover {
            background-color: #4f46e5; /* Tom mais escuro ao passar o mouse */
            transform: translateY(-2px); /* Efeito de "levantar" */
        }
        /* Estilos para cabe√ßalhos de se√ß√£o */
        h1, h2 {
            color: #1a202c; /* Texto mais escuro */
            margin-bottom: 25px; /* Mais espa√ßo */
            font-weight: 800; /* Mais negrito para t√≠tulos */
        }
        /* Estilos para a mensagem de erro */
        .error-message {
            color: #ef4444; /* Vermelho mais vibrante para erros */
            margin-top: 10px;
            font-size: 0.95em;
            font-weight: 500;
        }
        /* Estilos para os cards de vacina por m√™s */
        .month-card {
            background-color: #fdfefe; /* Fundo quase branco para os cards */
            padding: 25px; /* Aumenta o padding */
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08); /* Sombra mais vis√≠vel */
            margin-bottom: 20px; /* Mais espa√ßo entre os cards */
            border: 1px solid #e2e8f0; /* Borda sutil */
        }
        .month-title {
            font-weight: 800; /* Mais negrito para o t√≠tulo do m√™s */
            color: #2d3748; /* Cor mais escura para o t√≠tulo */
            margin-bottom: 12px; /* Mais espa√ßo */
            font-size: 1.35rem; /* Aumenta um pouco o tamanho */
        }
        .vaccine-item {
            display: flex;
            justify-content: space-between;
            align-items: center; /* Alinha verticalmente nome, data e bot√£o */
            padding: 10px 0; /* Aumenta o padding */
            border-bottom: 1px solid #e2e8f0; /* Linha s√≥lida mais suave */
            font-size: 0.95rem; /* Ajusta o tamanho da fonte */
        }
        .vaccine-item:last-child {
            border-bottom: none; /* Remove a borda do √∫ltimo item */
        }
        .vaccine-name {
            flex-grow: 1; /* Permite que o nome da vacina ocupe o espa√ßo dispon√≠vel */
            font-weight: 600; /* Um pouco mais negrito */
            color: #4a5568;
        }
        .vaccine-date {
            color: #718096;
            margin-right: 20px; /* Mais espa√ßo entre a data e o bot√£o */
            font-weight: 500;
        }
        .info-btn {
            background-color: #4c51bf; /* Cor ligeiramente mais escura para o info-btn */
            color: white;
            font-size: 0.75rem; /* Fonte um pouco maior */
            padding: 6px 12px; /* Padding ajustado */
            border-radius: 8px; /* Cantos mais arredondados */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(76, 81, 191, 0.2); /* Sombra para o info-btn */
        }
        .info-btn:hover {
            background-color: #3e4491; /* Tom mais escuro ao passar o mouse */
            transform: translateY(-1px);
        }

        /* Estilos para o modal */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Fundo mais escuro */
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0; /* Inicialmente oculto */
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: #fff;
            padding: 35px; /* Aumenta o padding */
            border-radius: 16px; /* Cantos mais arredondados */
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); /* Sombra mais profunda */
            width: 90%;
            max-width: 650px; /* Aumenta um pouco a largura m√°xima */
            position: relative;
            transform: translateY(-30px); /* Come√ßa um pouco acima */
            transition: transform 0.3s ease-out;
        }
        .modal.visible .modal-content {
            transform: translateY(0); /* Desliza para a posi√ß√£o final */
        }
        .close-button {
            position: absolute;
            top: 18px; /* Ajusta posi√ß√£o */
            right: 18px; /* Ajusta posi√ß√£o */
            font-size: 2rem; /* Maior */
            font-weight: bold;
            color: #a0aec0; /* Cor mais suave */
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }
        .close-button:hover {
            color: #e53e3e; /* Vermelho mais forte */
            transform: rotate(90deg); /* Pequena rota√ß√£o no hover */
        }
        .modal-title {
            font-size: 2rem; /* Maior para o t√≠tulo do modal */
            font-weight: bold;
            color: #1a202c;
            margin-bottom: 20px; /* Mais espa√ßo */
            text-align: center;
        }
        .modal-body {
            font-size: 1.05rem; /* Fonte um pouco maior */
            color: #2d3748;
            line-height: 1.7; /* Mais espa√ßamento entre linhas */
            max-height: 60vh; /* Ajusta altura m√°xima */
            overflow-y: auto; /* Adiciona scroll se o conte√∫do for muito longo */
            padding-right: 10px; /* Espa√ßo para a barra de rolagem */
        }
        .modal-body p {
            margin-bottom: 10px; /* Espa√ßo entre par√°grafos no modal */
        }
        .loading-spinner {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #4299e1; /* Azul mais vibrante */
            border-radius: 50%;
            width: 35px; /* Maior */
            height: 35px; /* Maior */
            animation: spin 1s linear infinite;
            margin: 25px auto; /* Centraliza o spinner */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Estilos para as novas se√ß√µes de rodap√© */
        .footer-section {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid #e2e8f0;
            color: #4a5568;
            font-size: 0.9rem;
            text-align: center;
        }
        .footer-section h3 {
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: inline-block; /* Para centralizar a lista */
        }
        .footer-section li {
            margin-bottom: 5px;
        }
        .ufma-logo {
            margin-top: 20px;
            max-width: 150px; /* Tamanho do logo */
            height: auto;
            display: block; /* Para permitir margin: auto para centralizar */
            margin-left: auto;
            margin-right: auto;
            border-radius: 50%; /* Opcional: se quiser bordas arredondadas no logo */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra para o logo */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="container bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl">
        <h1 class="text-3xl font-extrabold text-center text-indigo-700 mb-6">
            üóìÔ∏è Calend√°rio de Vacina√ß√£o Infantil
        </h1>
        <p class="text-center text-gray-600 mb-8">
            Insira a data de nascimento da crian√ßa para gerar o calend√°rio de vacina√ß√£o.
        </p>

        <div class="mb-6">
            <label for="birthDate" class="block text-gray-700 text-sm font-bold mb-2">
                Data de Nascimento:
            </label>
            <input type="date" id="birthDate" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-indigo-500">
            <p id="errorMessage" class="error-message hidden">Por favor, insira uma data v√°lida no formato DD/MM/AAAA.</p>
        </div>

        <button id="calculateBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300 ease-in-out transform hover:scale-105">
            Calcular Vacinas
        </button>

        <div id="results" class="mt-8 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Calend√°rio Personalizado</h2>
            <div id="vaccineSchedule">
                <!-- As vacinas calculadas ser√£o inseridas aqui -->
            </div>
        </div>

        <!-- Se√ß√£o de Refer√™ncia -->
        <div class="footer-section">
            <h3>Refer√™ncias:</h3>
            <p>Instru√ß√£o Normativa - Calend√°rio Nacional de Vacina√ß√£o 2025</p>
        </div>

        <!-- Se√ß√£o de Cr√©ditos do Projeto -->
        <div class="footer-section mt-6">
            <h3>Um projeto da disciplina Eixo Integrador:</h3>
            <p class="mb-2">Discentes do curso de Medicina - Campus Pinheiro. Ano: 2025</p>
            <ul>
                <li>ALLANA REGINA FRANCO DE SA RIBEIRO</li>
                <li>CIBELE FRANCISCA DE OLIVEIRA ALMEIDA</li>
                <li>DANILO ADELSON REIS MOREIRA LIMA GONCALVES</li>
                <li>EDUARDA PINHEIRO COELHO</li>
                <li>ELAINE SOUSA BENICIO</li>
                <li>GABRIEL FERNANDES JOSINO</li>
                <li>JOZADAQUE TEIXEIRA DA SILVA</li>
                <li>LIVIA DOS SANTOS RODRIGUES</li>
                <li>MARCUS TULLIUS BARBOSA SEVERIO DE OLIVEIRA</li>
                <li>MARIA LIVIA OLIVEIRA DA SILVA</li>
                <li>MARIANA DOURADO SANTIAGO</li>
                <li>MYRELE DOS SANTOS ELOUF SIMAO</li>
                <li>PAULO VITOR DOS SANTOS RIBEIRO</li>
            </ul>
            <h3 class="mt-6">Orientadora:</h3>
            <p>Prof. Dra. Karla Janilee de Souza Penha</p>
            <!-- Logo da UFMA adicionado aqui -->
            <img src="image.jpg" alt="Logo da UFMA" class="ufma-logo">
        </div>

    </div>

    <!-- Modal para exibi√ß√£o da explica√ß√£o da vacina -->
    <div id="infoModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button" id="closeModalBtn">&times;</span>
            <h3 class="modal-title" id="modalVaccineName"></h3>
            <div id="modalContent" class="modal-body">
                <!-- Conte√∫do da explica√ß√£o ou spinner ser√° carregado aqui -->
            </div>
        </div>
    </div>

    <script>
        // Define os dados das vacinas com base no PDF
        // Adicionada a propriedade 'description' para cada vacina
        const vaccineData = [
            {
                name: "BCG",
                recommendedAge: "Ao nascer",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina BCG protege contra as formas graves da tuberculose, como a miliar e a men√≠ngea. √â uma dose √∫nica, aplicada geralmente no bra√ßo direito, e √© importante para a prote√ß√£o desde os primeiros dias de vida do beb√™. Pode deixar uma pequena cicatriz."
            },
            {
                name: "Hepatite B",
                recommendedAge: "Ao nascer",
                maxAge: "30 dias",
                description: "A primeira dose da vacina contra Hepatite B √© dada nas primeiras 12 horas de vida para proteger o rec√©m-nascido da infec√ß√£o por esse v√≠rus, que pode causar doen√ßas graves no f√≠gado. O esquema completo envolve mais doses em outros meses."
            },
            {
                name: "Poliomielite 1, 2, 3 (VIP) - 1¬™ Dose",
                recommendedAge: "2 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina VIP protege contra a poliomielite (paralisia infantil), uma doen√ßa grave que pode causar paralisia permanente. A primeira dose √© aplicada aos 2 meses de idade e faz parte de um esquema de v√°rias doses para garantir a imuniza√ß√£o completa."
            },
            {
                name: "Poliomielite 1, 2, 3 (VIP) - 2¬™ Dose",
                recommendedAge: "4 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A segunda dose da vacina VIP refor√ßa a prote√ß√£o contra a poliomielite. √â fundamental seguir o calend√°rio para garantir que a crian√ßa esteja totalmente protegida contra essa doen√ßa que pode ser devastadora."
            },
            {
                name: "Poliomielite 1, 2, 3 (VIP) - 3¬™ Dose",
                recommendedAge: "6 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A terceira dose da vacina VIP completa a s√©rie inicial de prote√ß√£o contra a poliomielite. Essencial para a imunidade de longo prazo."
            },
            {
                name: "Poliomielite 1, 2, 3 (VIP) - Refor√ßo",
                recommendedAge: "15 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "O primeiro refor√ßo da VIP aumenta ainda mais a prote√ß√£o contra a poliomielite, garantindo que a imunidade se mantenha forte ao longo do tempo."
            },
            {
                name: "Rotavirus - 1¬™ Dose",
                recommendedAge: "2 meses",
                maxAge: "11 meses e 29 dias",
                description: "A vacina contra o Rotav√≠rus protege contra as diarreias graves causadas por esse v√≠rus, que s√£o muito comuns em beb√™s e crian√ßas pequenas. A primeira dose √© oral."
            },
            {
                name: "Rotavirus - 2¬™ Dose",
                recommendedAge: "4 meses",
                maxAge: "23 meses e 29 dias",
                description: "A segunda dose da vacina Rotav√≠rus √© crucial para completar a prote√ß√£o contra as diarreias severas. √â importante seguir o prazo m√°ximo para aplica√ß√£o."
            },
            {
                name: "Pentavalente - 1¬™ Dose",
                recommendedAge: "2 meses",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "A vacina Pentavalente protege contra difteria, t√©tano, coqueluche, Haemophilus influenzae tipo b (Hib) e hepatite B. √â uma vacina essencial que oferece prote√ß√£o ampla com uma √∫nica inje√ß√£o."
            },
            {
                name: "Pentavalente - 2¬™ Dose",
                recommendedAge: "4 meses",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "A segunda dose da Pentavalente refor√ßa a imunidade contra cinco doen√ßas importantes, mantendo a crian√ßa protegida √† medida que cresce."
            },
            {
                name: "Pentavalente - 3¬™ Dose",
                recommendedAge: "6 meses",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "A terceira dose da Pentavalente completa o ciclo inicial de prote√ß√£o, garantindo que a crian√ßa tenha uma base s√≥lida de imunidade contra difteria, t√©tano, coqueluche, Hib e hepatite B."
            },
            {
                name: "DTP - 1¬∫ Refor√ßo",
                recommendedAge: "15 meses",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "O primeiro refor√ßo da DTP (difteria, t√©tano e coqueluche) √© importante para manter a imunidade alta contra essas doen√ßas, especialmente a coqueluche, que √© perigosa para beb√™s."
            },
            {
                name: "DTP - 2¬∫ Refor√ßo",
                recommendedAge: "4 anos",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "O segundo refor√ßo da DTP, administrado por volta dos 4 anos, garante uma prote√ß√£o duradoura contra difteria, t√©tano e coqueluche antes da entrada na escola."
            },
            {
                name: "Pneumoc√≥cica 10-valente - 1¬™ Dose",
                recommendedAge: "2 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina Pneumoc√≥cica protege contra doen√ßas graves causadas pela bact√©ria Streptococcus pneumoniae, como pneumonia, otite, meningite e outras. A primeira dose √© fundamental."
            },
            {
                name: "Pneumoc√≥cica 10-valente - 2¬™ Dose",
                recommendedAge: "4 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A segunda dose da Pneumoc√≥cica 10-valente fortalece a defesa contra as infec√ß√µes pneumoc√≥cicas, protegendo os pulm√µes e o c√©rebro da crian√ßa."
            },
            {
                name: "Pneumoc√≥cica 10-valente - Refor√ßo",
                recommendedAge: "12 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "O refor√ßo da Pneumoc√≥cica, geralmente aos 12 meses, garante uma prote√ß√£o cont√≠nua e eficaz contra as doen√ßas causadas pelo pneumococo."
            },
            {
                name: "Meningoc√≥cica C - conjugada - 1¬™ Dose",
                recommendedAge: "3 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina Meningoc√≥cica C protege contra a doen√ßa invasiva causada pela Neisseria meningitidis do sorogrupo C, que pode causar meningite. A primeira dose √© um passo crucial."
            },
            {
                name: "Meningoc√≥cica C - conjugada - 2¬™ Dose",
                recommendedAge: "5 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A segunda dose da Meningoc√≥cica C completa a imuniza√ß√£o inicial contra a meningite C, oferecendo uma prote√ß√£o mais robusta para a crian√ßa."
            },
            {
                name: "Meningoc√≥cica C - conjugada - Refor√ßo",
                recommendedAge: "12 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "O refor√ßo da Meningoc√≥cica C garante a continuidade da prote√ß√£o contra a doen√ßa invasiva, que pode ser muito grave em crian√ßas pequenas."
            },
            {
                name: "Febre Amarela - 1¬™ Dose",
                recommendedAge: "9 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina da Febre Amarela √© recomendada para crian√ßas que vivem ou viajar√£o para √°reas de risco. Protege contra a doen√ßa transmitida por mosquitos. A primeira dose √© dada aos 9 meses."
            },
            {
                name: "Febre Amarela - Refor√ßo",
                recommendedAge: "4 anos",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "O refor√ßo da vacina de Febre Amarela, aos 4 anos, assegura que a crian√ßa mantenha a imunidade contra a doen√ßa em √°reas end√™micas."
            },
            {
                name: "Tr√≠plice Viral (SCR) - 1¬™ Dose",
                recommendedAge: "12 meses",
                maxAge: "", // No max age in PDF
                description: "A Tr√≠plice Viral protege contra sarampo, caxumba e rub√©ola. √â uma vacina vital para a sa√∫de p√∫blica e individual, aplicada em dose √∫nica por volta dos 12 meses de idade."
            },
            {
                name: "Tetra Viral (SCRV) - Dose √önica",
                recommendedAge: "15 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A Tetra Viral oferece prote√ß√£o contra sarampo, caxumba, rub√©ola e varicela (catapora) em uma √∫nica dose. Substitui a Tr√≠plice Viral mais a vacina de Varicela isolada para crian√ßas nesta idade."
            },
            {
                name: "Hepatite A - Dose √önica",
                recommendedAge: "15 meses",
                maxAge: "At√© 4 anos, 11 meses e 29 dias",
                description: "A vacina contra Hepatite A protege contra a infec√ß√£o do f√≠gado causada pelo v√≠rus da hepatite A, que √© transmitido por √°gua e alimentos contaminados. Dose √∫nica recomendada aos 15 meses."
            },
            {
                name: "Varicela - Dose √önica",
                recommendedAge: "4 anos",
                maxAge: "At√© 6 anos, 11 meses e 29 dias",
                description: "A vacina de Varicela (catapora) protege contra a doen√ßa. Se a crian√ßa j√° tomou a Tetra Viral, esta dose pode n√£o ser necess√°ria, dependendo do esquema."
            },
            {
                name: "HPV - 1¬™ Dose",
                recommendedAge: "9 a 14 anos",
                maxAge: "14 anos, 11 meses e 29 dias",
                description: "A vacina HPV protege contra o Papilomav√≠rus Humano, que pode causar c√¢ncer de colo de √∫tero e outras les√µes. √â recomendada para adolescentes e aplicada em duas doses."
            },
            {
                name: "Meningo ACWY - Dose √önica",
                recommendedAge: "11 a 14 anos",
                maxAge: "14 anos, 11 meses e 29 dias",
                description: "A vacina Meningo ACWY protege contra diferentes tipos de meningite bacteriana. √â uma dose √∫nica importante para adolescentes."
            },
            {
                name: "Covid-19 - (Consultar Esquema)",
                recommendedAge: "6 meses a 4 anos",
                maxAge: "4 anos 11 meses e 29 dias",
                description: "A vacina Covid-19 para crian√ßas ajuda a prevenir formas graves da doen√ßa. O esquema de doses pode variar, por isso, √© fundamental consultar o posto de sa√∫de."
            },
            {
                name: "Influenza",
                recommendedAge: "A partir de 6 meses de idade (Anual)",
                maxAge: "", // No max age in PDF
                description: "A vacina contra a Influenza (gripe) √© anual e protege contra os tipos mais comuns do v√≠rus da gripe. √â essencial para crian√ßas a partir dos 6 meses para prevenir complica√ß√µes."
            }
        ];

        // Mapeia os elementos do DOM
        const birthDateInput = document.getElementById('birthDate');
        const calculateBtn = document.getElementById('calculateBtn');
        const resultsDiv = document.getElementById('results');
        const vaccineScheduleDiv = document.getElementById('vaccineSchedule');
        const errorMessage = document.getElementById('errorMessage');

        // Modal elements
        const infoModal = document.getElementById('infoModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const modalVaccineName = document.getElementById('modalVaccineName');
        const modalContent = document.getElementById('modalContent');

        // Event Listeners
        calculateBtn.addEventListener('click', calculateVaccineSchedule);
        closeModalBtn.addEventListener('click', () => {
            infoModal.classList.remove('visible'); // Remove a classe 'visible' para ocultar com transi√ß√£o
            infoModal.classList.add('hidden'); // Adiciona 'hidden' ap√≥s a transi√ß√£o
        });
        // Close modal if user clicks outside of it
        window.addEventListener('click', (event) => {
            if (event.target === infoModal) {
                infoModal.classList.remove('visible');
                infoModal.classList.add('hidden');
            }
        });


        function calculateVaccineSchedule() {
            const birthDateStr = birthDateInput.value;

            // Valida a entrada da data
            if (!birthDateStr) {
                errorMessage.textContent = "Por favor, insira a data de nascimento da crian√ßa.";
                errorMessage.classList.remove('hidden');
                resultsDiv.classList.add('hidden');
                return;
            }

            const birthDate = new Date(birthDateStr + 'T00:00:00'); // Adiciona T00:00:00 para evitar problemas de fuso hor√°rio
            if (isNaN(birthDate.getTime())) {
                errorMessage.textContent = "Formato de data inv√°lido. Por favor, use o formato DD/MM/AAAA.";
                errorMessage.classList.remove('hidden');
                resultsDiv.classList.add('hidden');
                return;
            }

            errorMessage.classList.add('hidden'); // Oculta a mensagem de erro se a data for v√°lida
            vaccineScheduleDiv.innerHTML = ''; // Limpa os resultados anteriores

            const scheduleByMonth = {}; // Objeto para agrupar vacinas por m√™s

            vaccineData.forEach(vaccine => {
                let vaccineDate = null;
                let ageDescription = vaccine.recommendedAge.toLowerCase();

                if (ageDescription.includes("ao nascer")) {
                    vaccineDate = new Date(birthDate);
                } else if (ageDescription.includes("meses")) {
                    const months = parseInt(ageDescription.split(' ')[0]);
                    vaccineDate = new Date(birthDate);
                    vaccineDate.setMonth(birthDate.getMonth() + months);
                } else if (ageDescription.includes("anos")) {
                    const years = parseInt(ageDescription.split(' ')[0]);
                    vaccineDate = new Date(birthDate);
                    vaccineDate.setFullYear(birthDate.getFullYear() + years);
                } else if (ageDescription.includes("a partir de 6 meses de idade (anual)")) {
                    vaccineDate = new Date(birthDate);
                    vaccineDate.setMonth(birthDate.getMonth() + 6);
                } else if (ageDescription.includes("9 a 14 anos") || ageDescription.includes("11 a 14 anos")) {
                    const years = parseInt(ageDescription.split(' ')[0]);
                    vaccineDate = new Date(birthDate);
                    vaccineDate.setFullYear(birthDate.getFullYear() + years);
                } else if (ageDescription.includes("6 meses a 4 anos")) {
                    const months = 6;
                    vaccineDate = new Date(birthDate);
                    vaccineDate.setMonth(birthDate.getMonth() + months);
                }


                // Verifica se a data da vacina √© v√°lida e n√£o est√° no futuro em rela√ß√£o √† data atual
                if (vaccineDate && vaccineDate >= birthDate) {
                    const monthKey = vaccineDate.toLocaleString('pt-BR', { year: 'numeric', month: 'long' });

                    if (!scheduleByMonth[monthKey]) {
                        scheduleByMonth[monthKey] = [];
                    }
                    scheduleByMonth[monthKey].push({
                        name: vaccine.name,
                        date: vaccineDate.toLocaleDateString('pt-BR')
                    });
                }
            });

            // Ordena os meses cronologicamente
            const sortedMonths = Object.keys(scheduleByMonth).sort((a, b) => {
                // Adjust for month names that might not be parsed directly by Date constructor across all browsers.
                // A more robust solution might involve creating a custom month mapping.
                // For this example, we assume `toLocaleString` output is consistent for comparison.
                const dateA = new Date(a.replace(' de ', ' 1, ')); // Convert "Maio de 2023" to "Maio 1, 2023" for parsing
                const dateB = new Date(b.replace(' de ', ' 1, '));
                return dateA - dateB;
            });


            // Cria e insere os cards de vacina no DOM
            if (sortedMonths.length > 0) {
                sortedMonths.forEach(monthKey => {
                    const monthCard = document.createElement('div');
                    monthCard.classList.add('month-card');

                    const monthTitle = document.createElement('h3');
                    monthTitle.classList.add('month-title');
                    monthTitle.textContent = monthKey;
                    monthCard.appendChild(monthTitle);

                    scheduleByMonth[monthKey].forEach(item => {
                        const vaccineItem = document.createElement('div');
                        vaccineItem.classList.add('vaccine-item');

                        const vaccineName = document.createElement('span');
                        vaccineName.classList.add('vaccine-name');
                        vaccineName.textContent = item.name;
                        vaccineItem.appendChild(vaccineName);

                        const vaccineDate = document.createElement('span');
                        vaccineDate.classList.add('vaccine-date');
                        vaccineDate.textContent = item.date;
                        vaccineItem.appendChild(vaccineDate);

                        // Bot√£o para informa√ß√µes da vacina
                        const infoButton = document.createElement('button');
                        infoButton.classList.add('info-btn');
                        infoButton.textContent = '‚ú® Info';
                        infoButton.addEventListener('click', () => showVaccineInfo(item.name));
                        vaccineItem.appendChild(infoButton);

                        monthCard.appendChild(vaccineItem);
                    });
                    vaccineScheduleDiv.appendChild(monthCard);
                });
                resultsDiv.classList.remove('hidden'); // Mostra a se√ß√£o de resultados
            } else {
                vaccineScheduleDiv.innerHTML = '<p class="text-center text-gray-500">Nenhuma vacina encontrada para a data de nascimento informada ou a crian√ßa j√° passou da idade limite para todas as vacinas.</p>';
                resultsDiv.classList.remove('hidden');
            }
        }

        /**
         * Exibe o modal com informa√ß√µes da vacina, usando os dados locais 'vaccineData'.
         * N√£o requer chave API ou chamada externa.
         * @param {string} vaccineName O nome da vacina para obter informa√ß√µes.
         */
        function showVaccineInfo(vaccineName) {
            modalVaccineName.textContent = vaccineName;
            // Mostra um spinner/mensagem de carregamento brevemente, embora a informa√ß√£o seja instant√¢nea
            modalContent.innerHTML = '<div class="loading-spinner"></div><p class="text-center text-gray-500 mt-4">Carregando informa√ß√µes...</p>';
            infoModal.classList.add('visible'); // Adiciona a classe 'visible' para iniciar a transi√ß√£o
            infoModal.classList.remove('hidden');


            // Encontra a vacina nos dados locais
            const vaccine = vaccineData.find(v => v.name === vaccineName);

            if (vaccine && vaccine.description) {
                // Se a vacina e sua descri√ß√£o forem encontradas, exibe a descri√ß√£o
                modalContent.innerHTML = vaccine.description;
            } else {
                // Se a vacina n√£o for encontrada ou n√£o tiver descri√ß√£o
                modalContent.innerHTML = `<p class="text-red-500">N√£o foi poss√≠vel obter informa√ß√µes detalhadas para a vacina "${vaccineName}".</p>`;
            }
        }
    </script>
</body>
</html>
